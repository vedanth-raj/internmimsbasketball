<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Connection Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        .success { background: #22c55e; }
        .error { background: #ef4444; }
        .warning { background: #f59e0b; }
        .info { background: #3b82f6; }
    </style>
</head>
<body>
    <h1>🔥 Firebase Connection Test</h1>
    <p>Testing connection to your internmimsbasketball Firebase project...</p>
    
    <div id="status-container">
        <div class="status info">
            ⏳ Initializing Firebase...
        </div>
    </div>

    <h2>Project Configuration</h2>
    <ul>
        <li><strong>Project ID:</strong> internmimsbasketball</li>
        <li><strong>Auth Domain:</strong> internmimsbasketball.firebaseapp.com</li>
        <li><strong>Database URL:</strong> https://internmimsbasketball-default-rtdb.firebaseio.com</li>
    </ul>

    <h2>Next Steps</h2>
    <ol>
        <li>Enable <strong>Realtime Database</strong> in Firebase Console</li>
        <li>Enable <strong>Authentication (Google)</strong> in Firebase Console</li>
        <li>Test the scoreboard at <a href="index.html" style="color: #FF6B35;">index.html</a></li>
        <li>Test the admin panel at <a href="admin.html" style="color: #FF6B35;">admin.html</a></li>
    </ol>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js';
        import { getDatabase, ref, set } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyAWCSuJ4CFUy_mIiVJSECc8hGZok3yfWnY",
            authDomain: "internmimsbasketball.firebaseapp.com",
            databaseURL: "https://internmimsbasketball-default-rtdb.firebaseio.com",
            projectId: "internmimsbasketball",
            storageBucket: "internmimsbasketball.firebasestorage.app",
            messagingSenderId: "97822648007",
            appId: "1:97822648007:web:cfc93e3a6fb8233c6c40e2",
            measurementId: "G-KM2NGQ30TJ"
        };

        const statusContainer = document.getElementById('status-container');

        function addStatus(message, type) {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            statusContainer.appendChild(div);
        }

        try {
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            addStatus('✅ Firebase app initialized successfully', 'success');

            // Test Realtime Database
            try {
                const database = getDatabase(app);
                addStatus('✅ Realtime Database connected', 'success');
                
                // Try to write test data
                const testRef = ref(database, 'test');
                set(testRef, { 
                    message: 'Firebase test successful', 
                    timestamp: Date.now() 
                }).then(() => {
                    addStatus('✅ Database write test successful', 'success');
                }).catch((error) => {
                    addStatus('❌ Database write failed: ' + error.message, 'error');
                    addStatus('💡 Please enable Realtime Database in Firebase Console', 'warning');
                });
            } catch (error) {
                addStatus('❌ Realtime Database error: ' + error.message, 'error');
                addStatus('💡 Please enable Realtime Database in Firebase Console', 'warning');
            }

            // Test Authentication
            try {
                const auth = getAuth(app);
                addStatus('✅ Authentication initialized', 'success');
            } catch (error) {
                addStatus('❌ Authentication error: ' + error.message, 'error');
                addStatus('💡 Please enable Authentication in Firebase Console', 'warning');
            }

        } catch (error) {
            addStatus('❌ Firebase initialization failed: ' + error.message, 'error');
        }
    </script>
</body>
</html>